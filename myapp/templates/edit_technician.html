{% extends 'admin_index.html' %}
{% block body %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.field-icon {
  float: right;
  margin-left: -25px;
  margin-top: -34px;
  position: relative;
  background:gray;
  color:yellow;
  z-index: 2;
  padding:10px;
}

.field-icon:hover {
  cursor:pointer;
}
</style>
<div class="page-header">
    <div class="page-block">
        <div class="row align-items-center">
            <div class="col-md-8">
                <div class="page-header-title">
                    <h5 class="m-b-10">Update Technician</h5>
                </div>
            </div>
            <div class="col-md-4">
                <ul class="breadcrumb-title">
                    <li class="breadcrumb-item">
                        <a href="/edit_technician/"> <i class="fa fa-home"></i> </a>
                    </li>
                    <li class="breadcrumb-item"><a href="#!">Update Technician</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <!-- Basic Form Inputs card start -->
        <div class="card">
            <div class="card-header">
                <h5>Update Technician Details</h5>
            </div>
            <div class="card-block">
                <form action="" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Technician ID*</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="technicianid" placeholder="Technician ID" value="{{data.user.username}}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Name*</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="technicianname" placeholder="Technician Name" value="{{data.user.first_name}}">
                        </div>
                    </div>
                    <div class="form-group row">
                          <label class="col-sm-2 col-form-label">Email</label>
                        <div class="col-sm-10">
                          <input type="password" class="form-control form-control-a" placeholder="Email" name="email" id="email" value="{{data.user.email}}" readonly>
                          <span class="fa fa-eye field-icon toggle-password-2"></span>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Mobile</label>
                        <div class="col-sm-10">
                            <input type="password" class="form-control form-control-a" name="mobileno" id="mobile" placeholder="Mobile" value="{{data.mobileno}}" readonly>
                            <span class="fa fa-eye field-icon toggle-password"></span>
                        </div>
                     </div>
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Address*</label>
                        <div class="col-sm-10">
                            <textarea class="form-control" name="address"
                                      placeholder="Address">{{data.address}}</textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Profile Pic*</label>
                        <div class="col-sm-10">
							<img src="{% if data.pic %}{{data.pic.url}}{% endif %}" width="100" height="100">
                            <a href="/change_profile_image/{{data.id}}">Edit Image</a>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label">Joining Date*</label>
                        <div class="col-sm-10">
                            <input class="form-control" name="creationdate" value="{{data.creationdate}}" readonly>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Update</button>
                </form>
            </div>
            <!-- Basic Form Inputs card end -->
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>

<script>
$(".toggle-password").click(function() {
  $(this).toggleClass("fa-eye fa-eye-slash");
  if ($("#mobile").attr("type") == "password") {
    $("#mobile").attr("type", "text");
  } else {
    $("#mobile").attr("type", "password");
  }
});

$(".toggle-password-2").click(function() {
  $(this).toggleClass("fa-eye fa-eye-slash");
  if ($("#email").attr("type") == "password") {
    $("#email").attr("type", "email");
  }
  else {
    $("#email").attr("type", "password");
  }
});
</script>
{% endblock %}